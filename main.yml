student_t newuser = {
    .id = 1,
    .age = 25,
    .fname = malloc(sizeof(char) * 6),
    .lname = malloc(sizeof(char) * 12),
    .faculty = malloc(sizeof(char) * 14),
};

strcpy(newuser.fname, "Davit");
strcpy(newuser.lname, "Martirosyan");
strcpy(newuser.faculty, "Civil Defense");

Create(&table, &newuser);

char *rd = readline("$: ");

free(newuser.fname);
free(newuser.lname);
free(newuser.faculty);




if (query[i] && ft_isalpha(query[i]) && (int)ft_strlen(query) > i)
{
    // printf("word: |%s|\n", query + i);
    i += addword(&tok, &i, query);
}
if (query[i] && ft_isspace(query[i]))
{
    // printf("sp: |%s|\n", query + i);
    i++;
    continue;
}
if (query[i] && query[i] == '{')
{
    // printf("exp: |%s|\n", query + i);
    i += addexpansion(&tok, &i, query);
}
// i++;



void	addexpansion(query_t **tokens, int *i, char *query)
{
    int s = *i;
    int e = 0;
    bool oppened = true;
    while (oppened)
    {
        if (query[s] == '}')
            oppened = false;
        s++;
        e++;
    }
    char *keys = ft_substr(query, *i, e);
    *i += e;
    printf("keys|values -> %s\n", keys);
    free(keys);
}

void	space(query_t **tokens, int *i, char *query)
{
	int		s;
	int		len;
	char	*separator;

	s = *i;
	len = 0;
	separator = NULL;
	while (query[++s])
	{
		if (!ft_isspace(query[s]))
			break ;
		++len;
	}
	separator = word(query, len, *i);
	free(separator);
	*i += len;
}

char	*word(char *query, int len, int s_pos)
{
	char	*word;
	int		i;

	i = 0;
	word = NULL;
	word = malloc(sizeof(char) * (len + 1));
	while (i < len)
	{
		word[i] = query[s_pos];
		s_pos++;
		i++;
	}
	word[i] = '\0';
	return (word);
}

int	wordlen(char *wordstart, int s_pos)
{
	int	i;

	i = 0;
	while (wordstart[s_pos] && ft_iswordpart(wordstart[s_pos]))
	{
		s_pos++;
		i++;
	}
	return (i);
}




Orion *add    = dc_query(table, "                        ADD                             TO                                     users                              {fname, age, lname}                                   {             Davit,                        25,               Martirosyan                }                              ");




		// Orion *create = dc_query(table, "CREATE users    {                 char fname    , char lname           , int         :      age              } id:1");
		// Orion *add    = dc_query(table, "ADD TO users{    fname, age, lname    }    {   Davit, 25, Martirosyan            }    ");
		// Orion *ret    = dc_query(table, "RETREIVE FROM users {fname, lname} OF id:1");
		Orion *upd    = dc_query(table, orion);
		// "UPDATE IN users {fname}  {Davo} OF id:1";
		// Orion *del    = dc_query(table, "DELETE FROM users id:1");
		// Orion *lst    = dc_query(table, "LIST users");
		// Orion *srt    = dc_query(table, "SORT users BY fname"); /// ??????????????????????